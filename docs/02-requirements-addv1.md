# 追加要件 v1

## サイトマップ対応（進捗まとめ）

### 背景
新ドメイン `https://f1weathers.com` のインデックス促進を支援するため、検索エンジン向けのサイトマップ運用が必要である。サイトマップ自体はインデックスを保証しないものの、クローラーに対して新規および更新済みページの手掛かりを提供できる。また、旧ドメイン `https://f1-weather-two.vercel.app` は恒久的な 308 リダイレクトで新ドメインに転送する計画のため、サイトマップの URL はすべて新ドメイン基準で整備する。

### 実装状況
1. **Next.js App Router による動的サイトマップ生成（完了）**
    - `src/app/sitemap.ts` で `https://f1weathers.com/sitemap.xml` を生成し、更新日時と優先度を付与している。
    - 追加ページを公開する際は、このファイルに URL を追加し忘れないようにする。
2. **robots.txt へのサイトマップ追記（完了）**
    - `public/robots.txt` に `Sitemap: https://f1weathers.com/sitemap.xml` を明示し、全クローラーへのクロール許可を維持している。
    - `npm run dev` 実行時に `http://localhost:3000/robots.txt` を確認し、改行崩れがないことを随時チェックする。

### 残タスク
3. **Google Search Console（GSC）でサイトマップを送信する**
    - `https://f1weathers.com` プロパティにアクセスし、「サイトマップ」メニューから `https://f1weathers.com/sitemap.xml` を送信する。
    - 送信後ステータスを記録し、エラーや警告が出た場合は `docs/` に原因と対処を残す。
4. **旧ドメインのアドレス変更申請を完了させる**
    - 旧ドメインのプロパティにて「設定」→「アドレス変更」を実施し、新ドメインを指定する。
    - DNS または HTML ファイル認証が最新化されているか確認し、進行状況を月次で監視する。

### 検証および運用
- 公開後に `https://f1weathers.com/sitemap.xml` をブラウザまたは `curl` で取得し、200 応答と期待される URL 構造を毎リリースで確認する。
- GSC のインデックス登録状況（カバレッジレポート）を週次で確認し、未登録 URL が多い場合はページ品質や内部リンク構造を見直す。
- 重要ページが即時にインデックスされない場合、URL 検査ツールで再クロールを依頼し、依頼日時と結果を `docs/` に記録する。
